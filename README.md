# zan

Zanは、軽量で高速なCLIベースのタスク管理システムです。シンプルかつ効率的なタスク管理を実現し、開発者、システム管理者、CLIを日常的に使用するユーザー、および軽量なタスク管理ツールを求めるユーザーを対象としています。

## 特徴

-   **軽量性**: 最小限のリソース消費で動作します。
-   **高速性**: 瞬時の起動と応答を提供します。
-   **シンプル性**: 導入とセットアップが簡単です。
-   **拡張性**: 将来的な生成AIとの連携を考慮した設計です。
-   **技術スタック**: Go (1.22+), Bubble Tea (CLI Framework), JSON形式のローカルファイル (データ保存)

## インストール

`zan`はGo言語で書かれているため、Goがインストールされている環境であれば`go install`コマンドで簡単にインストールできます。

```bash
go install github.com/kissy24/zan/cmd/zan@latest
```

インストール後、`zan`コマンドが利用可能になります。

## 基本的な使い方

`zan`はCLIで動作するタスク管理ツールです。`zan`コマンドを実行すると、タスク一覧が表示されるメイン画面が起動します。

```bash
zan
```

### タスクの操作

#### タスクの追加 (a)

メイン画面で `a` キーを押すと、新しいタスクを追加するためのフォームが表示されます。タイトル、詳細説明、優先度、タグを入力して `Enter` で保存します。

#### タスクの編集 (e)

メイン画面で編集したいタスクを選択し、`e` キーを押すと、選択したタスクの編集フォームが表示されます。内容を修正して `Enter` で保存します。

#### タスクの状態変更 (c)

メイン画面で状態を変更したいタスクを選択し、`c` キーを押すと、タスクの状態が以下の順で切り替わります: `TODO` → `IN_PROGRESS` → `DONE` → `PENDING` → `TODO`。

#### タスクの詳細表示 (v)

メイン画面で詳細を確認したいタスクを選択し、`v` キーを押すと、そのタスクの詳細情報が表示されます。メイン画面に戻るには `Esc` キーを押します。

#### タスクの削除 (d)

メイン画面で削除したいタスクを選択し、`d` キーを押すと、タスクを削除できます。**この機能は現在UIからは直接操作できませんが、CLIコマンドとしては利用可能です。**

```bash
zan delete <task-id>
```

## 高度な使い方

### タスクのフィルタリング

メイン画面で以下のキーを押すと、タスクを絞り込むことができます。

-   **状態別フィルタ (f)**: `f` キーを押すと、ステータス（例: `TODO,IN_PROGRESS`）を入力してフィルタリングできます。
-   **優先度別フィルタ (p)**: `p` キーを押すと、優先度（例: `HIGH,MEDIUM`）を入力してフィルタリングできます。
-   **タグ別フィルタ (t)**: `t` キーを押すと、タグ（例: `work,personal`）を入力してフィルタリングできます。複数のタグを指定するとAND検索になります。

フィルタリングを解除するには `Esc` キーを押します。

### タスクの検索 (s)

メイン画面で `s` キーを押すと、キーワード検索用の入力フィールドが表示されます。タイトルまたは詳細説明に含まれるキーワードでタスクを検索できます。検索を解除するには `Esc` キーを押します。

### タスクのソート (o)

メイン画面で `o` キーを押すと、ソート条件入力用のフィールドが表示されます。`created_at` (作成日時)、`updated_at` (更新日時)、`priority` (優先度) でソートできます。昇順 (`asc`) または降順 (`desc`) を指定できます（例: `created_at asc`, `priority desc`）。ソートを解除するには `Esc` キーを押します。

### 設定変更 (g)

メイン画面で `g` キーを押すと、設定画面が表示されます。デフォルトの優先度、自動保存の有効/無効、テーマなどを設定できます。`Enter` で保存、`Esc` でキャンセルします。

### データのエクスポート (x)

メイン画面で `x` キーを押すと、タスクデータをJSON形式でエクスポートするためのファイルパス入力フィールドが表示されます。ファイルパスを入力して `Enter` でエクスポートします。**この機能は現在UIからは直接操作できませんが、CLIコマンドとしては利用可能です。**

```bash
zan export --output ./tasks.json
```

### データのインポート (i)

メイン画面で `i` キーを押すと、JSON形式のタスクデータをインポートするためのファイルパス入力フィールドが表示されます。ファイルパスを入力して `Enter` でインポートします。既存のタスクとの重複は自動的にチェックされ、重複しないタスクのみが追加されます。

## キーバインド一覧

| キー      | 機能           | 説明                                                              |
| :-------- | :------------- | :---------------------------------------------------------------- |
| `a`       | タスク追加     | 新しいタスクを追加します。                                        |
| `e`       | タスク編集     | 選択中のタスクを編集します。                                      |
| `d`       | タスク削除     | 選択中のタスクを削除します。**UIからは未実装**                    |
| `v`       | 詳細表示       | 選択中のタスクの詳細を表示します。                                |
| `c`       | 状態変更       | 選択中のタスクの状態を切り替えます。                              |
| `f`       | 状態フィルタ   | タスクをステータスでフィルタリングします。                        |
| `p`       | 優先度フィルタ | タスクを優先度でフィルタリングします。                            |
| `t`       | タグフィルタ   | タスクをタグでフィルタリングします。                              |
| `s`       | 検索           | タスクをキーワードで検索します。                                  |
| `o`       | ソート         | タスクを様々な条件でソートします。                                |
| `g`       | 設定           | アプリケーションの設定を変更します。                              |
| `x`       | エクスポート   | タスクデータをJSON形式でエクスポートします。**UIからは未実装**    |
| `i`       | インポート     | JSON形式のタスクデータをインポートします。                        |
| `↑`/`↓`   | カーソル移動   | メイン画面でタスクを選択、フォームで入力フィールドを移動します。  |
| `Enter`   | 決定/保存      | フォームの送信、ソート/フィルタの適用、タスクの選択を行います。   |
| `Esc`     | キャンセル/戻る| 現在の画面を終了し、メイン画面に戻ります。フィルタ/検索を解除します。 |
| `ctrl+c`/`q` | 終了           | アプリケーションを終了します。                                    |

## データ保存場所

`zan`のタスクデータは、以下のパスにJSON形式で保存されます。

```
~/.zan/tasks.json
```

このファイルは、アプリケーションによって自動的に管理されます。

## 今後の開発予定

`zan`は継続的に機能拡張を予定しています。主な拡張予定は以下の通りです。

### Phase 2

-   **サブタスク**: 大きなタスクを分割して管理する機能。
-   **プロジェクト**: 関連するタスクをグループ化して管理する機能。
-   **時間トラッキング**: 各タスクに費やした時間を記録する機能。
-   **レポート機能**: 生産性を分析するためのレポート生成機能。

### Phase 3

-   **API連携**: 外部サービス（カレンダー、チャットツールなど）との連携機能。
-   **プラグイン**: ユーザーが独自の機能を追加できる拡張システム。
-   **チーム機能**: 複数ユーザーでタスクを共有・管理する機能。
-   **モバイル対応**: スマートフォンなどのモバイルデバイスでの利用。